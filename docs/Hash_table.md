
## 概念

- 散列函数： 将关键字映射成该关键字对应的地址的函数， Hash(key) = addr。(地址指的是数组下标，索引或内存地址)
- 散列表： 散列表建立了关键字和存储地址之间的映射关系， 是一种根据关键字进行直接访问的数据结构。

## 散列函数
### 散列函数的性质

- 输入应包含所有关键字，输出则依赖分配的空间大小(散列表的大小)
- 散列函数计算出的地址是等概率，均匀分布在整个地址空间，从而减少冲突发生。
- 可能会发生冲突

### 常见散列函数

- 直接地址法： `H(key) = a * key + b`
- 除留余数法： `H(key) = key % p`
- 数字分析法： 


## 布隆过滤器

布隆过滤器是一种巧妙的数据结构，特点是高效插入和查询

- 解决问题：判断 **某样东西是否存在**。 
- 优点： 高效，占用空间少
- 缺点： 返回的结果是概率的，不是确切的

### 实现原理

布隆过滤器过滤器是一个bit数组，其中每个bit用0表示不存在，用1表示存在。

我们要将一个值映射到布隆过滤器中，我们需要使用多个不同的哈希函数生成多个哈希值， 并将每个哈希值指向的bit位置1。 

当我们有一个新的值需要查询是否存在时，我们依旧采用多个哈希函数来生成多个值，然后查看这些哈希值指向的bit位置处是否都为1， 如果都为1，则说明该值可能存在；如果不都为1，说明该值一定不存在。 

### 如何选择哈希函数个数与布隆过滤器长度

哈希函数的个数越多，则布隆过滤器bit位置处置1的速度越快，且布隆过滤器的效率越低；但是如果太少的话，那我们的误报率会变高。

布隆过滤器的长度与误报率直接相关，布隆过滤器越长其误报率越小。

> - n ：样本量
> - p：误报率
> - m： 布隆过滤器长度
> - k： 哈希函数个数

$$
m = - \lceil \frac{n * lnp}{(ln2)^2} \rceil \\
k =  \lceil  \frac{m}{n} ln2 \rceil \\
真实 p =  (1-e^{- \frac{n*k}{m}})^k
$$

### 常见应用

利用布隆过滤器减少磁盘 IO 或者网络请求，因为一旦一个值必定不存在的话，我们可以不用进行后续昂贵的查询请求。


## 一致性哈希



## 大数据题

- 题目： 从100t的大文件找出重复的字符串，大文件中每一行就是一个字符串， 有1000台机器
- 思路：采用hashtable的思路； 将每个字符串转化然后 %1000，将每个字符串划分到不同的机器上，然后再每个机器上查找即可。


## 并查集

- 查两个元素是否属于一个集合
- 将两个元素各自所在的集合合并在一起